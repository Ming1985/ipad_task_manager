# Phase 02: 管理员认证

**类型:** ui
**状态:** pending
**相关 FR:** FR-5

## 目标

实现管理员密码保护系统，确保家长设置不被孩子擅自修改。

## 涉及的 User Stories

- US-001: 管理员密码保护

## 任务清单

### 首次启动流程
- [ ] 检测是否已设置密码
- [ ] 创建密码设置界面（6位数字键盘）
- [ ] 实现密码确认逻辑
- [ ] 设置安全问题（用于密码重置）

### 密码验证
- [ ] 创建密码输入界面
- [ ] 实现密码验证逻辑
- [ ] 错误次数计数
- [ ] 连续5次错误后锁定5分钟

### 密码管理
- [ ] 密码修改功能
- [ ] 安全问题重置密码功能
- [ ] 密码安全存储（Keychain）

### 数据持久化
- [ ] 密码哈希存储
- [ ] 锁定状态持久化

## 验收标准
- [ ] 首次启动 App 时强制设置 6 位数字密码
- [ ] 进入管理员模式需输入密码
- [ ] 支持密码修改和重置（通过安全问题）
- [ ] 连续 5 次输错密码后锁定 5 分钟
- [ ] Typecheck 通过

## 技术决策
| 决策 | 原因 |
|-----|------|

## 遇到的问题
| 问题 | 解决方案 |
|-----|---------|

## 测试清单 (ui)

### 自动化测试
- [ ] `xcodebuild build` 成功
- [ ] `xcodebuild test` UI 测试通过（如有 XCUITest）

### 手动验证
- [ ] 密码键盘布局正确
- [ ] 输入反馈（圆点显示）正常
- [ ] 错误提示清晰可见
- [ ] 锁定倒计时显示正确
- [ ] 横屏/竖屏适配
