# Phase 13: 通知系统

**类型:** system-api
**状态:** pending
**相关 FR:** FR-9

## 目标

实现完整的本地通知系统，在关键时刻提醒用户。

## 涉及的 User Stories

- US-018: 通知系统

## 任务清单

### 通知权限
- [ ] 请求通知权限
- [ ] 处理权限状态
- [ ] 引导用户开启通知

### 任务通知
- [ ] 任务开始时间到达通知
- [ ] 任务即将结束通知（2分钟前）
- [ ] 任务完成通知

### 游戏时间通知
- [ ] 游戏时间即将结束通知（5分钟前）
- [ ] 游戏时间即将结束通知（1分钟前）
- [ ] 游戏时间结束通知

### 通知配置
- [ ] 通知声音选择
- [ ] 振动设置
- [ ] 开关各类通知

### 通知管理
- [ ] 使用 UNUserNotificationCenter
- [ ] 通知标识符管理
- [ ] 取消过期通知

## 验收标准
- [ ] 任务开始时间到达时发送通知
- [ ] 任务即将结束时发送提醒
- [ ] 游戏时间即将结束时发送提醒
- [ ] 支持配置通知声音和振动
- [ ] 使用 iOS 本地通知 API
- [ ] Typecheck 通过

## 技术决策
| 决策 | 原因 |
|-----|------|

## 遇到的问题
| 问题 | 解决方案 |
|-----|---------|

## 测试清单 (system-api)

### 自动化测试
- [ ] `xcodebuild build` 成功
- [ ] 模拟器编译通过（API 存根）

### 手动验证 (真机推荐)
- [ ] 权限请求弹窗正确
- [ ] 授权后通知正常发送
- [ ] 通知内容正确
- [ ] 通知声音正常
- [ ] 通知配置生效
- [ ] 取消通知功能正常
