# Phase 08: 截图功能

**类型:** ui
**状态:** pending
**相关 FR:** FR-8

## 目标

实现任务期间的截图功能，用于验证任务完成情况。

## 涉及的 User Stories

- US-011: 截图功能
- US-012: 任务完成提示与截图反馈

## 任务清单

### 手动截图
- [ ] 任务进行时显示截图按钮
- [ ] 调用系统截图 API
- [ ] 截图预览确认

### 强制截图提示
- [ ] 任务结束前检查是否需要截图
- [ ] 弹出截图提示界面
- [ ] 截图或跳过选项

### 截图存储
- [ ] 截图保存到 App 沙盒
- [ ] 按日期组织目录结构
- [ ] 关联截图到对应任务/TaskSession

### 截图查看
- [ ] 家长端截图列表
- [ ] 按任务/日期筛选
- [ ] 截图详情放大查看
- [ ] 截图删除功能

### 任务结束提醒
- [ ] 任务结束前 2 分钟通知
- [ ] 时间到后弹出界面

## 验收标准
- [ ] 支持任务期间手动截图
- [ ] 任务结束前强制提示截图（如设置了需要截图）
- [ ] 截图自动关联到对应任务
- [ ] 截图存储在 App 沙盒内，按日期组织
- [ ] 家长可在管理界面查看截图
- [ ] 任务结束前 2 分钟发送"即将结束"通知
- [ ] 时间到后弹出截图提示界面
- [ ] 提供截图按钮和"跳过"选项
- [ ] 截图后显示预览，确认提交
- [ ] Typecheck 通过
- [ ] 使用 dev-browser skill 在模拟器中验证 UI

## 技术决策
| 决策 | 原因 |
|-----|------|

## 遇到的问题
| 问题 | 解决方案 |
|-----|---------|

## 测试清单 (ui)

### 自动化测试
- [ ] `xcodebuild build` 成功
- [ ] `xcodebuild test` UI 测试通过（如有 XCUITest）

### 手动验证
- [ ] 截图按钮响应正常
- [ ] 截图预览显示正确
- [ ] 截图保存成功
- [ ] 截图列表加载正常
- [ ] 筛选功能正常
- [ ] 强制截图提示正确弹出
- [ ] 跳过选项正常工作
