# Phase 05: 任务执行

**类型:** ui
**状态:** pending
**相关 FR:** FR-6, FR-7

## 目标

实现任务启动、计时、进度显示，以及任务计划的序列执行。

## 涉及的 User Stories

- US-005: 开始单个任务
- US-006: 开始任务计划（序列执行）

## 任务清单

### 单个任务执行
- [ ] 任务详情页面
- [ ] "开始"按钮启动任务
- [ ] 倒计时界面：
  - [ ] 大字体剩余时间显示
  - [ ] 进度环/进度条
  - [ ] 任务名称和描述
- [ ] 引导打开指定 App 的提示
- [ ] 暂停/继续功能（可选）
- [ ] 放弃任务功能

### 任务计划序列执行
- [ ] 计划开始后自动启动第一个任务
- [ ] 任务进度指示器（如 2/5）
- [ ] 单个任务完成后自动切换
- [ ] 任务间休息时间（可选配置）
- [ ] 计划整体进度显示

### 后台计时
- [ ] 后台运行时继续计时
- [ ] App 切换回来时更新显示
- [ ] 使用 Background Tasks 或定时器

### 任务状态管理
- [ ] 创建 TaskSession 记录
- [ ] 记录开始时间、结束时间
- [ ] 任务中断处理

## 验收标准
- [ ] 点击"开始"按钮启动任务
- [ ] 显示任务详情和倒计时
- [ ] 弹出提示引导打开指定 App
- [ ] 任务期间状态栏显示剩余时间
- [ ] 计划执行：自动启动第一个任务，完成后自动切换
- [ ] 显示当前任务进度（如 2/5）
- [ ] Typecheck 通过

## 技术决策
| 决策 | 原因 |
|-----|------|

## 遇到的问题
| 问题 | 解决方案 |
|-----|---------|

## 测试清单 (ui)

### 自动化测试
- [ ] `xcodebuild build` 成功
- [ ] `xcodebuild test` UI 测试通过（如有 XCUITest）

### 手动验证
- [ ] 倒计时准确
- [ ] 后台切换后时间正确
- [ ] 进度显示正确
- [ ] 任务切换流畅
- [ ] 放弃任务流程正常
- [ ] 横屏/竖屏适配
