# Phase 15: 测试与发布

**类型:** release
**状态:** pending
**相关 FR:** 全部

## 目标

完成全面测试和发布准备工作。

## 涉及的 User Stories

- 全部 User Stories 最终验收

## 任务清单

### 单元测试
- [ ] 数据层测试
- [ ] 业务逻辑测试
- [ ] 工具类测试

### UI 测试
- [ ] 关键流程 XCUITest
- [ ] 孩子端核心流程测试
- [ ] 家长端核心流程测试

### 集成测试
- [ ] Screen Time API 集成测试
- [ ] 通知系统集成测试
- [ ] iCloud 备份集成测试

### 性能测试
- [ ] 启动时间优化
- [ ] 内存使用检查
- [ ] 动画帧率检查

### 端到端测试
- [ ] 完整任务流程
- [ ] 完整奖励兑换流程
- [ ] 家长配置流程

### 发布准备
- [ ] App 图标设计
- [ ] 启动画面设计
- [ ] App Store 截图准备
- [ ] 应用描述文案
- [ ] 隐私政策准备

### 最终检查
- [ ] 所有 US 验收标准通过
- [ ] 无崩溃和严重 bug
- [ ] 性能指标达标

## 验收标准
- [ ] 所有单元测试通过
- [ ] 所有 UI 测试通过
- [ ] 所有 US 的 Acceptance Criteria 满足
- [ ] 性能指标达标
- [ ] App Store 提交材料就绪
- [ ] Typecheck 通过

## 技术决策
| 决策 | 原因 |
|-----|------|

## 遇到的问题
| 问题 | 解决方案 |
|-----|---------|

## 测试清单 (release)

### 自动化测试
- [ ] `xcodebuild clean build -configuration Release` 成功
- [ ] `xcodebuild archive` 成功
- [ ] 全部单元测试通过

### 手动验证
- [ ] 端到端流程：首次启动 → 设置密码 → 创建任务 → 孩子完成任务 → 获得积分
- [ ] 端到端流程：兑换奖励 → 游戏时间解锁 → 时间到自动屏蔽
- [ ] 端到端流程：家长查看统计 → 数据备份 → 恢复
- [ ] 性能指标达标
- [ ] TestFlight 安装测试
- [ ] App 图标/启动画面正确
