# Phase 03: 任务管理

**类型:** ui
**状态:** pending
**相关 FR:** FR-4, FR-6

## 目标

实现家长端任务和任务计划的创建、编辑功能，包括任务模板。

## 涉及的 User Stories

- US-002: 创建单个任务
- US-003: 创建任务序列（计划）
- US-019: 任务模板

## 任务清单

### 单个任务管理
- [ ] 任务列表界面（家长端）
- [ ] 任务创建表单：
  - [ ] 名称、描述输入
  - [ ] 时长设置（分钟）
  - [ ] App 选择器（支持多选）
  - [ ] 积分奖励设置
  - [ ] 是否需要截图开关
- [ ] 任务编辑功能
- [ ] 任务删除功能

### 任务计划管理
- [ ] 计划列表界面
- [ ] 计划创建：
  - [ ] 名称输入
  - [ ] 添加任务到计划
  - [ ] 拖拽调整任务顺序
  - [ ] 总时长自动计算显示
- [ ] 可用时间段设置
- [ ] 计划完成额外奖励设置
- [ ] 计划编辑和删除

### 任务模板
- [ ] 预设模板列表（阅读、数学、英语、钢琴等）
- [ ] 从模板创建任务
- [ ] 将任务保存为模板

### App 选择器
- [ ] 使用 FamilyActivityPicker 选择 App
- [ ] 显示已选 App 图标

## 验收标准
- [ ] 任务包含：名称、描述、时长、指定 App、积分、截图选项
- [ ] 计划包含：名称、任务列表（有序）、总时长、可用时间段、额外奖励
- [ ] 支持拖拽调整任务顺序
- [ ] 模板功能正常
- [ ] 数据保存到本地数据库
- [ ] Typecheck 通过

## 技术决策
| 决策 | 原因 |
|-----|------|

## 遇到的问题
| 问题 | 解决方案 |
|-----|---------|

## 测试清单 (ui)

### 自动化测试
- [ ] `xcodebuild build` 成功
- [ ] `xcodebuild test` UI 测试通过（如有 XCUITest）

### 手动验证
- [ ] 表单布局正确
- [ ] 输入验证正常（必填项、数值范围）
- [ ] 拖拽排序流畅
- [ ] App 选择器正常弹出
- [ ] 数据保存后重启仍存在
- [ ] 横屏/竖屏适配
